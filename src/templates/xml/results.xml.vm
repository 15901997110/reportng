<?xml version="1.0" encoding="UTF-8"?>
#set( $totalTests = $results.passedTests.size() + $results.skippedTests.size() + $results.failedTests.size() )
<testsuite name="$results.testClass.name"
           tests="$totalTests"
           failures="$results.failedTests.size()"
           errors="0"
           skipped="$results.skippedTests.size()"
           time="$utils.formatDuration($results.startTime, $results.endTime)">
  <properties />
  #foreach( $testResult in $results.failedTests )
    <testcase name="$testResult.name" time="$utils.formatDuration($testResult.startMillis, $testResult.endMillis)">
      #if( $testResult.throwable ) 
      <failure type="$testResult.throwable.class.name" 
        #if( $testResult.throwable.message ) 
          message="$utils.escapeString( $testResult.throwable.message )"
        #else 
          message="(null)"
        #end
      >
<![CDATA[$testResult.throwable.toString()
#foreach( $element in $testResult.throwable.stackTrace )
  $element.toString()
#end
#set( $causes = $utils.getCauses($testResult.throwable) )
#foreach( $throwable in $causes )
Caused by: $throwable.toString()
#foreach( $element in $throwable.stackTrace )
  $element.toString()
#end
#end]]>
      </failure>
      #else
      <failure type="Unknown" message="Unknown"/>
      #end
    </testcase>
  #end
  #foreach( $testResult in $results.skippedTests )
    <testcase name="$testResult.name" time="0.0">
      <skipped />
    </testcase>
  #end
  #foreach( $testResult in $results.passedTests )
    <testcase name="$testResult.name" time="$utils.formatDuration($testResult.startMillis, $testResult.endMillis)" />
  #end
</testsuite>
