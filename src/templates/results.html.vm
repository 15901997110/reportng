<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Unit Test Results</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="description" content="TestNG unit test results." />
  <link href="reportng.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="reportng.js"></script>
</head>
<body>
<div class="title">$result.testContext.name</div>
<div class="small">
  Test Duration: $utils.formatDuration($result.testContext.startDate, $result.testContext.endDate)
</div>
<p>&nbsp;</p>
<table class="resultsTable" width="100%">
  #if( $result.testContext.failedTests.size() > 0 )
  <tr><td colspan="3" class="header failed">Failed Tests / Configuration</td></tr>
  #set ($sortedResults = $utils.sortByTestClass($result.testContext.failedTests) )
  #set ($id = 0)
  #foreach( $testClass in $sortedResults.keySet() )
  <tr>
    <td colspan="3" class="shaded"><b>$testClass.name</b></td>
  </tr>

  #foreach( $testResult in $sortedResults.get($testClass) )
  <tr style="border-bottom: 1px solid #000000;">
    <td>$testResult.name</td>
    <td>$utils.formatDuration($testResult.startMillis, $testResult.endMillis)</td>
    <td>
      #if( $testResult.method.description.length() > 0 )
      <i>$testResult.method.description</i><br />
      #end
      #set( $output = $utils.getTestOutput($testResult) )
      #if( $output.size() > 0)
      <div class="output">
        #foreach( $line in $output )
        $line<br />
        #end
      </div>
      #end
      <a href="javascript:toggleDiv('exception-$id')" title="Click to expand/collapse"><b>$utils.escapeString( $testResult.throwable.toString() )</b></a><br />
      <div class="small" style="display: none;" id="exception-$id">
        #foreach( $element in $testResult.throwable.stackTrace )
        $element<br />
        #end
        #set( $causes = $utils.getCauses($testResult.throwable) )
        #foreach( $throwable in $causes )
        #set ($id = $id + 1)
        <b>Caused by: </b> <a href="javascript:toggleDiv('exception-$id')" title="Click to expand/collapse">$utils.escapeString( $throwable.toString() )</a><br />
        <div style="display: none;" id="exception-$id">
          #foreach( $element in $throwable.stackTrace )
          $element<br />
          #end
        </div>
        #end
      </div>
      #set ($id = $id + 1)
    </td>
  </tr>
  #end
  #end
  #end

  #if( $result.testContext.skippedTests.size() > 0 )
  <tr><td colspan="3" class="header skipped">Skipped Tests</td></tr>
  #set ($sortedResults = $utils.sortByTestClass($result.testContext.skippedTests) )
  #foreach( $testClass in $sortedResults.keySet() )
  <tr>
    <td colspan="3" class="shaded"><b>$testClass.name</b></td>
  </tr>
  #foreach( $testResult in $sortedResults.get($testClass) )
  <tr>
    <td>$testResult.name</td>
    <td>&nbsp;</td>
    <td>
      #if( $testResult.method.description.length() > 0 )
      <i>$testResult.method.description</i><br />
      #end
    </td>
  </tr>
  #end
  #end
  #end

  #if( $result.testContext.passedTests.size() > 0 )
  <tr><td colspan="3" class="header passed">Passed Tests</td></tr>
  #set ($sortedResults = $utils.sortByTestClass($result.testContext.passedTests) )
  #foreach( $testClass in $sortedResults.keySet() )
  <tr>
    <td colspan="3" class="shaded"><b>$testClass.name</b></td>
  </tr>
  #foreach( $testResult in $sortedResults.get($testClass) )
  <tr>
    <td>$testResult.name</td>
    <td>$utils.formatDuration($testResult.startMillis, $testResult.endMillis)</td>
    <td>
      #if( $testResult.method.description.length() > 0 )
      <i>$testResult.method.description</i><br />
      #end
      #set( $output = $utils.getTestOutput($testResult) )
      #if( $output.size() > 0)
      <div class="output">
        #foreach( $line in $output )
        $line<br />
        #end
      </div>
      #end
    </td>
  </tr>
  #end
  #end
  #end
</table>
</body>
</html>
